{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u044E\\u0437\\u0435\\u0440\\\\Downloads\\\\diplom\\\\diplom\\\\src\\\\screens\\\\player\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport \"./player.css\";\nimport { useLocation } from \"react-router-dom\";\nimport apiClient from \"../../spotify\";\nimport SongCard from \"../../components/songCard\";\nimport Queue from \"../../components/queue\";\nimport AudioPLayer from \"../../components/audioPlayer\";\nimport Widgets from \"../../components/widgets\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Player() {\n  _s();\n\n  var _currentTrack$album, _currentTrack$album$a;\n\n  const location = useLocation();\n  const [tracks, setTracks] = useState([]);\n  const [currentTrack, setCurrentTrack] = useState({});\n  const [currentIndex, setCurrentIndex] = useState(0);\n  useEffect(() => {\n    if (location.state) {\n      var _location$state;\n\n      apiClient.get(\"playlists/\" + ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.id) + \"/tracks\").then(res => {\n        var _res$data, _res$data$items$;\n\n        setTracks(res.data.items);\n        setCurrentTrack((_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$items$ = _res$data.items[0]) === null || _res$data$items$ === void 0 ? void 0 : _res$data$items$.track);\n      });\n    }\n  }, [location.state]);\n  useEffect(() => {\n    var _tracks$currentIndex;\n\n    setCurrentTrack((_tracks$currentIndex = tracks[currentIndex]) === null || _tracks$currentIndex === void 0 ? void 0 : _tracks$currentIndex.track);\n  }, [currentIndex, tracks]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"screen-container flex\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left-player-body\",\n      children: [/*#__PURE__*/_jsxDEV(AudioPLayer, {\n        currentTrack: currentTrack,\n        total: tracks,\n        currentIndex: currentIndex,\n        setCurrentIndex: setCurrentIndex\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Widgets, {\n        artistID: currentTrack === null || currentTrack === void 0 ? void 0 : (_currentTrack$album = currentTrack.album) === null || _currentTrack$album === void 0 ? void 0 : (_currentTrack$album$a = _currentTrack$album.artists[0]) === null || _currentTrack$album$a === void 0 ? void 0 : _currentTrack$album$a.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right-player-body\",\n      children: [/*#__PURE__*/_jsxDEV(SongCard, {\n        album: currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.album\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Queue, {\n        tracks: tracks,\n        setCurrentIndex: setCurrentIndex\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Player, \"HzSrCcpOEQe9NY7ERry3SGxrSfk=\", false, function () {\n  return [useLocation];\n});\n\n_c = Player;\n\nvar _c;\n\n$RefreshReg$(_c, \"Player\");","map":{"version":3,"sources":["C:/Users/юзер/Downloads/diplom/diplom/src/screens/player/index.js"],"names":["React","useEffect","useState","useLocation","apiClient","SongCard","Queue","AudioPLayer","Widgets","Player","location","tracks","setTracks","currentTrack","setCurrentTrack","currentIndex","setCurrentIndex","state","get","id","then","res","data","items","track","album","artists"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,cAAP;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,SAAP,MAAsB,eAAtB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,WAAP,MAAwB,8BAAxB;AACA,OAAOC,OAAP,MAAoB,0BAApB;;AAEA,eAAe,SAASC,MAAT,GAAkB;AAAA;;AAAA;;AAC/B,QAAMC,QAAQ,GAAGP,WAAW,EAA5B;AACA,QAAM,CAACQ,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACW,YAAD,EAAeC,eAAf,IAAkCZ,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACa,YAAD,EAAeC,eAAf,IAAkCd,QAAQ,CAAC,CAAD,CAAhD;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIS,QAAQ,CAACO,KAAb,EAAoB;AAAA;;AAClBb,MAAAA,SAAS,CACNc,GADH,CACO,mCAAeR,QAAQ,CAACO,KAAxB,oDAAe,gBAAgBE,EAA/B,IAAoC,SAD3C,EAEGC,IAFH,CAESC,GAAD,IAAS;AAAA;;AACbT,QAAAA,SAAS,CAACS,GAAG,CAACC,IAAJ,CAASC,KAAV,CAAT;AACAT,QAAAA,eAAe,cAACO,GAAG,CAACC,IAAL,kEAAC,UAAUC,KAAV,CAAgB,CAAhB,CAAD,qDAAC,iBAAoBC,KAArB,CAAf;AACD,OALH;AAMD;AACF,GATQ,EASN,CAACd,QAAQ,CAACO,KAAV,CATM,CAAT;AAWAhB,EAAAA,SAAS,CAAC,MAAM;AAAA;;AACda,IAAAA,eAAe,yBAACH,MAAM,CAACI,YAAD,CAAP,yDAAC,qBAAsBS,KAAvB,CAAf;AACD,GAFQ,EAEN,CAACT,YAAD,EAAeJ,MAAf,CAFM,CAAT;AAIA,sBACE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA,8BACE,QAAC,WAAD;AACE,QAAA,YAAY,EAAEE,YADhB;AAEE,QAAA,KAAK,EAAEF,MAFT;AAGE,QAAA,YAAY,EAAEI,YAHhB;AAIE,QAAA,eAAe,EAAEC;AAJnB;AAAA;AAAA;AAAA;AAAA,cADF,eAOE,QAAC,OAAD;AAAS,QAAA,QAAQ,EAAEH,YAAF,aAAEA,YAAF,8CAAEA,YAAY,CAAEY,KAAhB,iFAAE,oBAAqBC,OAArB,CAA6B,CAA7B,CAAF,0DAAE,sBAAiCP;AAApD;AAAA;AAAA;AAAA;AAAA,cAPF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAUE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA,8BACE,QAAC,QAAD;AAAU,QAAA,KAAK,EAAEN,YAAF,aAAEA,YAAF,uBAAEA,YAAY,CAAEY;AAA/B;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,KAAD;AAAO,QAAA,MAAM,EAAEd,MAAf;AAAuB,QAAA,eAAe,EAAEK;AAAxC;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YAVF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAiBD;;GAtCuBP,M;UACLN,W;;;KADKM,M","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./player.css\";\nimport { useLocation } from \"react-router-dom\";\nimport apiClient from \"../../spotify\";\nimport SongCard from \"../../components/songCard\";\nimport Queue from \"../../components/queue\";\nimport AudioPLayer from \"../../components/audioPlayer\";\nimport Widgets from \"../../components/widgets\";\n\nexport default function Player() {\n  const location = useLocation();\n  const [tracks, setTracks] = useState([]);\n  const [currentTrack, setCurrentTrack] = useState({});\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  useEffect(() => {\n    if (location.state) {\n      apiClient\n        .get(\"playlists/\" + location.state?.id + \"/tracks\")\n        .then((res) => {\n          setTracks(res.data.items);\n          setCurrentTrack(res.data?.items[0]?.track);\n        });\n    }\n  }, [location.state]);\n\n  useEffect(() => {\n    setCurrentTrack(tracks[currentIndex]?.track);\n  }, [currentIndex, tracks]);\n\n  return (\n    <div className=\"screen-container flex\">\n      <div className=\"left-player-body\">\n        <AudioPLayer\n          currentTrack={currentTrack}\n          total={tracks}\n          currentIndex={currentIndex}\n          setCurrentIndex={setCurrentIndex}\n        />\n        <Widgets artistID={currentTrack?.album?.artists[0]?.id} />\n      </div>\n      <div className=\"right-player-body\">\n        <SongCard album={currentTrack?.album} />\n        <Queue tracks={tracks} setCurrentIndex={setCurrentIndex} />\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}