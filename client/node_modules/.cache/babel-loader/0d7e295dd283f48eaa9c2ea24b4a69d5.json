{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/\\u044E\\u0437\\u0435\\u0440/Downloads/diplom/diplom/reactapp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\\\u044E\\u0437\\u0435\\u0440\\\\Downloads\\\\diplom\\\\diplom\\\\reactapp\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";var authEndpoint=\"https://accounts.spotify.com/authorize?\";var clientId=\"e01a7fc6e2c54385be1bdbf93309a84d\";var redirectUri=\"http://localhost:3000\";var scopes=[\"user-library-read\",\"playlist-read-private\",\"user-follow-read\"];export var loginEndpoint=\"\".concat(authEndpoint,\"client_id=\").concat(clientId,\"&redirect_uri=\").concat(redirectUri,\"&scope=\").concat(scopes.join(\"%20\"),\"&response_type=token&show_dialog=true\");var apiClient=axios.create({baseURL:\"https://api.spotify.com/v1/\"});export var setClientToken=function setClientToken(token){apiClient.interceptors.request.use(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(config){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config.headers.Authorization=\"Bearer \"+token;return _context.abrupt(\"return\",config);case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};export default apiClient;","map":{"version":3,"sources":["C:/Users/юзер/Downloads/diplom/diplom/reactapp/client/src/spotify.js"],"names":["axios","authEndpoint","clientId","redirectUri","scopes","loginEndpoint","join","apiClient","create","baseURL","setClientToken","token","interceptors","request","use","config","headers","Authorization"],"mappings":"6UAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,YAAY,CAAG,yCAArB,CACA,GAAMC,CAAAA,QAAQ,CAAG,kCAAjB,CACA,GAAMC,CAAAA,WAAW,CAAG,uBAApB,CACA,GAAMC,CAAAA,MAAM,CAAG,CAAC,mBAAD,CAAsB,uBAAtB,CAA8C,kBAA9C,CAAf,CAEA,MAAO,IAAMC,CAAAA,aAAa,WAAMJ,YAAN,sBAA+BC,QAA/B,0BAAwDC,WAAxD,mBAA6EC,MAAM,CAACE,IAAP,CACrG,KADqG,CAA7E,yCAAnB,CAIP,GAAMC,CAAAA,SAAS,CAAGP,KAAK,CAACQ,MAAN,CAAa,CAC7BC,OAAO,CAAE,6BADoB,CAAb,CAAlB,CAIA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAW,CACvCJ,SAAS,CAACK,YAAV,CAAuBC,OAAvB,CAA+BC,GAA/B,0FAAmC,iBAAgBC,MAAhB,kHACjCA,MAAM,CAACC,OAAP,CAAeC,aAAf,CAA+B,UAAYN,KAA3C,CADiC,gCAE1BI,MAF0B,wDAAnC,gEAID,CALM,CAOP,cAAeR,CAAAA,SAAf","sourcesContent":["import axios from \"axios\";\n\nconst authEndpoint = \"https://accounts.spotify.com/authorize?\";\nconst clientId = \"e01a7fc6e2c54385be1bdbf93309a84d\";\nconst redirectUri = \"http://localhost:3000\";\nconst scopes = [\"user-library-read\", \"playlist-read-private\",\"user-follow-read\"];\n\nexport const loginEndpoint = `${authEndpoint}client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\n  \"%20\"\n)}&response_type=token&show_dialog=true`;\n\nconst apiClient = axios.create({\n  baseURL: \"https://api.spotify.com/v1/\",\n});\n\nexport const setClientToken = (token) => {\n  apiClient.interceptors.request.use(async function (config) {\n    config.headers.Authorization = \"Bearer \" + token;\n    return config;\n  });\n};\n\nexport default apiClient;\n"]},"metadata":{},"sourceType":"module"}